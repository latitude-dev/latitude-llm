---
title: TypeScript SDK
description: Integrate Latitude into your Node.js applications using the TypeScript SDK.
---

The Latitude TypeScript SDK provides a convenient way to interact with the Latitude platform from your Node.js or browser applications.

## Installation

```bash
npm install @latitude/sdk
# or
yarn add @latitude/sdk
# or
pnpm add @latitude/sdk
```

## Authentication and Initialization

Import the client and initialize it with your API key. You can generate API keys in your Latitude project settings under "API Access".

```typescript
import { LatitudeClient } from '@latitude/sdk'

const latitude = new LatitudeClient({
  apiKey: process.env.LATITUDE_API_KEY!, // Use environment variables
  // Optional: Specify base URL for self-hosted instances
  // baseUrl: 'https://your-latitude-instance.com/api'
})
```

Keep your API key secure and avoid committing it directly into your codebase.

## Programmatically Managing Prompts

## Prompt Management

### Get or create a prompt

To get or create a prompt, use the `getOrCreate` method:

```typescript
async function getPrompt(promptId: string) {
  try {
    const prompt = await latitude.prompts.get(promptId)
    console.log('Fetched Prompt:', prompt.name)
    return prompt
  } catch (error) {
    console.error(`Error fetching prompt ${promptId}:`, error)
  }
}
```

### List Prompts

```typescript
async function listAllPrompts() {
  try {
    const prompts = await latitude.prompts.list()
    console.log(
      'Prompts:',
      prompts.map((p) => ({ id: p.id, name: p.name })),
    )
    return prompts
  } catch (error) {
    console.error('Error listing prompts:', error)
  }
}
```

## Running Prompts and Handling Responses

Execute published prompts via the AI Gateway.

### Standard Run (Non-Streaming)

This returns the complete response once generation is finished.

```typescript
async function runEmailPrompt(promptId: string) {
  try {
    const response = await latitude.run(promptId, {
      parameters: {
        productName: 'CloudSync Pro',
        audience: 'Small Business Owners',
      },
      // Optional: Add metadata for logging/tracing
      metadata: {
        userId: 'user-abc-123',
        campaign: 'Q3-launch',
      },
    })

    console.log('Generated Email Content:')
    console.log(response.content)

    // Access response metadata
    console.log('Trace ID:', response.metadata?.traceId)
    console.log('Log ID:', response.metadata?.logId)

    return response
  } catch (error) {
    console.error('Error running prompt:', error)
  }
}
```

### Handling Streaming Responses

For real-time applications (like chatbots), use streaming to get response chunks as they are generated.

```typescript
async function runStreamingPrompt(promptId: string) {
  try {
    const stream = await latitude.run(promptId, {
      parameters: {
        productName: 'CloudSync Pro',
        audience: 'Small Business Owners',
      },
      stream: true, // Enable streaming
      metadata: { userId: 'user-xyz-789' },
    })

    console.log('Streaming Response:')
    let fullContent = ''
    for await (const chunk of stream) {
      // Process text chunks
      if (chunk.type === 'text-delta' && chunk.content) {
        process.stdout.write(chunk.content)
        fullContent += chunk.content
      }
      // Handle other event types (tool calls, errors, final response)
      if (chunk.type === 'response') {
        console.log(`\n--- Stream Finished ---`)
        console.log('Final Metadata (Trace ID):', chunk.metadata?.traceId)
        // Note: chunk.content might be empty here if streamed
      }
      // Add handling for chunk.type === 'tool-call', 'error', etc.
      // See Streaming Events guide for details: /guides/api/streaming-events
    }
    // fullContent now holds the complete generated text
  } catch (error) {
    console.error('Error running streaming prompt:', error)
  }
}
```

Refer to the [Streaming Events](/guides/api/streaming-events) documentation for a detailed explanation of all event types.

## Logging and Telemetry Features

- **Automatic Logging**: All runs through `latitude.run()` are automatically logged in Latitude, capturing inputs, outputs, metadata, performance metrics, and trace information.
- **Custom Metadata**: Pass application-specific context (like `userId`, `sessionId`, `environment`) in the `metadata` field during the `run` call. This metadata is attached to the logs and traces, enabling better filtering and analysis.
- **Trace IDs**: The `traceId` returned in the response metadata links all related events (LLM calls, tool calls, evaluations) for a single execution flow.

## Further Information

- [HTTP API Reference](/guides/api/reference)
- [API Access and Authentication](/guides/api/api-access)
- [Streaming Event Details](/guides/api/streaming-events)
